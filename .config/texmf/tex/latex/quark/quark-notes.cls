\NeedsTeXFormat{LaTeX2e}
\ProvidesClass{quark-notes}

\LoadClass[reqno]{scrartcl}
\RequirePackage[margin=1in]{geometry}
\RequirePackage{amsmath, amssymb, amsthm}
\RequirePackage{hyperref}
\RequirePackage[most]{tcolorbox}
\RequirePackage{xcolor}
\RequirePackage{xparse}
\RequirePackage{quark-colours}

% Requires LuaTeX or XeTeX.
\RequirePackage{unicode-math}  % Fix incorrect rendering of =>
\RequirePackage{fontspec}
\setmainfont{ETbb}

\newfontfamily\symbolsfont{Symbola}

% See https//www.khirevich.com/latex/microtype/
\RequirePackage[
    %, stretch  = 10, shrink = 10         % Variation of character width (default 20)
]{microtype}
\SetProtrusion{encoding={*},family={bch},series={*},size={6,7}}
              {1={ ,750},2={ ,500},3={ ,500},4={ ,500},5={ ,500},
               6={ ,500},7={ ,600},8={ ,500},9={ ,500},0={ ,500}}

% Cleveref must be loaded after amsthm and hyperref, but before any theorem environment definitions.
% If a version of the source is needed without the cleveref dependency,a sed script to hardcode its
% effects can be generated by passing the 'poorman' option.
\RequirePackage[capitalise,nameinlink,noabbrev]{cleveref}

\newtheorem{theorem}{Theorem}[section]
\newtheorem{corollary}{Corollary}[theorem]
\newtheorem{lemma}[theorem]{Lemma}
\newtheorem{proposition}[theorem]{Proposition}

\theoremstyle{definition} \newtheorem{definition}[theorem]{Definition}
\theoremstyle{remark} \newtheorem*{remark}{Remark}