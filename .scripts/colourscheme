#!/usr/bin/sh

colourscheme=$1

alacritty_base=~/.config/alacritty/base.yml
alacritty_colours=~/.config/alacritty/themes/${colourscheme}.yml
alacritty_config=~/.config/alacritty/alacritty.yml

colour_list="dracula
nord
solarized-dark
solarized-light"

# Alacritty
change_alacritty() {
    echo "#" > $alacritty_config
    echo "# DO NOT EDIT!" >> $alacritty_config
    echo "# This file is automatically generated by my colourscheme" >> $alacritty_config
    echo "# script from the other files in this directory." >> $alacritty_config
    echo "#" >> $alacritty_config
    cat $alacritty_base $alacritty_colours >> $alacritty_config
}

# Neovim
change_nvim() {
    echo $1 > ~/.config/nvim/colours.vim
}

case $colourscheme in
    list)
        echo "$colour_list"
        ;;
    dracula)
        change_alacritty
        change_nvim 'colorscheme dracula'
        ;;
    nord)
        change_alacritty
        change_nvim 'colorscheme nord'
        ;;
    solarized-dark)
        change_alacritty
        change_nvim 'colorscheme NeoSolarized\nset background=dark'
        ;;
    solarized-light)
        change_alacritty
        change_nvim 'colorscheme NeoSolarized\nset background=light'
        ;;
    *)
        echo -e "Supported colourschemes:\n${colour_list}"
        ;;
esac
